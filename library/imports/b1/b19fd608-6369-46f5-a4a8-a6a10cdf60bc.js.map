{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\star.js"],"names":["cc","Class","extends","Component","properties","pickRdius","onLoad","getPlayerDistance","playPos","game","player","getPosition","dist","pDistance","node","position","onPick","spawnNewStar","getNewScore","destroy","start","update","dt","opacityRadio","timer","starDuration","opacity","Math","floor"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACTC,mBAAW;AADF,KAHP;;AAOL;;AAEAC,UATK,oBASK,CAET,CAXI;AAYLC,qBAZK,+BAYgB;AACjB;AACA,YAAIC,UAAU,KAAKC,IAAL,CAAUC,MAAV,CAAiBC,WAAjB,EAAd;;AAEA,YAAIC,OAAOZ,GAAGa,SAAH,CAAa,KAAKC,IAAL,CAAUC,QAAvB,EAAiCP,OAAjC,CAAX;AACA,eAAQI,IAAR;AACH,KAlBI;AAmBLI,UAnBK,oBAmBK;AACN,aAAKP,IAAL,CAAUQ,YAAV;AACA,aAAKR,IAAL,CAAUS,WAAV;AACA,aAAKJ,IAAL,CAAUK,OAAV;AACH,KAvBI;AAwBLC,SAxBK,mBAwBI,CAER,CA1BI;AA4BLC,UA5BK,kBA4BGC,EA5BH,EA4BO;AACR,YAAI,KAAKf,iBAAL,KAA2B,KAAKF,SAApC,EAA+C;AAC3C,iBAAKW,MAAL;AACA;AACH;AACD;AACA,YAAIO,eAAe,IAAI,KAAKd,IAAL,CAAUe,KAAV,GAAkB,KAAKf,IAAL,CAAUgB,YAAnD;AACA,aAAKX,IAAL,CAAUY,OAAV,GAAoB,KAAKC,KAAKC,KAAL,CAAWL,gBAAgB,MAAM,EAAtB,CAAX,CAAzB;AACH;AApCI,CAAT","file":"star.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n       pickRdius: 0\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        \r\n    },\r\n    getPlayerDistance () {\r\n        // 获取距离\r\n        var playPos = this.game.player.getPosition();\r\n\r\n        var dist = cc.pDistance(this.node.position, playPos);\r\n        return  dist;\r\n    },\r\n    onPick () {\r\n        this.game.spawnNewStar();\r\n        this.game.getNewScore();\r\n        this.node.destroy();\r\n    },\r\n    start () {\r\n       \r\n    },\r\n\r\n    update (dt) {\r\n        if (this.getPlayerDistance() < this.pickRdius) {\r\n            this.onPick();\r\n            return;\r\n        }\r\n        // 设置透明度变化\r\n        var opacityRadio = 1 - this.game.timer / this.game.starDuration;\r\n        this.node.opacity = 50 + Math.floor(opacityRadio * (255 - 50));\r\n    },\r\n});\r\n"]}